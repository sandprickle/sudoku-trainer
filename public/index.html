<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="/dist/tw.css" rel="stylesheet" />
</head>

<body>
  <script src="/dist/elm.js"></script>
  <script>
    const gridKey = 'grid'
    const app = Elm.Main.init({
      flags: JSON.parse(localStorage.getItem(gridKey)),
    })

    app.ports.saveGrid.subscribe((grid) => {
      localStorage.setItem(gridKey, JSON.stringify(grid))
      app.ports.gridReceiver.send(grid)
    })

    app.ports.loadGrid.subscribe(() => {
      app.ports.gridReceiver.send(JSON.parse(localStorage.getItem(gridKey)))
    })
  </script>
</body>

</html>
